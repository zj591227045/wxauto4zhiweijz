# 只为记账-微信助手 (简约版)

这是只为记账-微信助手的简约版本，专注于核心功能：微信消息监控和自动记账。

## 🚀 快速开始

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 启动程序
```bash
python start_simple_ui.py
```

## 📋 功能特性

### 核心功能
- ✅ 简约的PyQt6界面
- ✅ 只为记账服务配置和登录
- ✅ 微信监控服务配置
- ✅ 实时日志窗口
- ✅ 消息监控和自动记账
- ✅ 统计信息显示

### 简约设计
- 🎯 专注核心功能，去除复杂特性
- 🔧 简化的配置流程
- 📊 清晰的状态指示
- 📝 实时日志监控

## 🔧 使用说明

### 1. 配置只为记账服务
1. 点击左上角的"只为记账服务"状态指示器
2. 输入服务器地址（默认：https://api.zhiweijz.com）
3. 输入用户名（邮箱）和密码
4. 点击"登录"按钮
5. 选择要使用的账本

### 2. 配置微信监控服务
1. 点击右上角的"微信监控服务"状态指示器
2. 选择微信自动化库（wxauto 或 wxautox）
3. 添加要监控的微信联系人或群组
4. 设置监控间隔（默认5秒）
5. 配置自动启动选项

### 3. 开始监控
1. 确保微信PC客户端已登录
2. 确保已完成上述配置
3. 点击中央的"开始监听"按钮
4. 系统会自动初始化微信和API服务
5. 开始监控指定的微信会话

### 4. 查看日志
- 点击底部的"日志窗口"按钮查看详细日志
- 日志窗口支持实时更新和过滤功能

## 📁 项目结构（简约版）

```
├── start_simple_ui.py              # 简约版启动脚本
├── requirements.txt                # 依赖文件
├── README_SIMPLE.md               # 简约版说明文档
├── app/                           # 核心应用目录
│   ├── qt_ui/                     # PyQt6界面
│   │   ├── simple_main_window.py  # 简约版主窗口
│   │   └── log_window.py          # 日志窗口
│   ├── services/                  # 核心服务
│   │   ├── accounting_service.py  # 记账服务
│   │   └── message_monitor.py     # 消息监控服务
│   ├── utils/                     # 工具模块
│   │   ├── config_manager.py      # 配置管理
│   │   ├── state_manager.py       # 状态管理
│   │   └── message_processor.py   # 消息处理器
│   ├── api/                       # API接口
│   │   ├── routes.py              # 主要API路由
│   │   ├── routes_minimal.py      # 精简API路由
│   │   ├── chat_window.py         # 聊天窗口API
│   │   └── message_api.py         # 消息API
│   ├── api_service.py             # API服务
│   ├── auth.py                    # API认证
│   ├── config.py                  # 配置文件
│   ├── logs.py                    # 日志系统
│   ├── wechat.py                  # 微信管理器
│   ├── wechat_adapter.py          # 微信适配器
│   └── wechat_init.py             # 微信初始化
└── archive/                       # 已归档的文件
    ├── 其他UI版本文件
    ├── 测试文件
    ├── 工具文件
    └── 不必要的组件
```

## ⚙️ 配置说明

### 只为记账API配置
- 服务器地址：https://api.zhiweijz.com
- 需要有效的用户账号和密码
- 支持多账本选择

### 微信监控配置
- 支持wxauto和wxautox两种库
- 可监控多个微信联系人或群组
- 可配置监控间隔和自动启动

## 🔍 故障排除

### 常见问题
1. **微信初始化失败**
   - 确保微信PC客户端已登录
   - 检查wxauto/wxautox库是否正确安装

2. **记账服务连接失败**
   - 检查网络连接
   - 验证服务器地址和登录信息

3. **监控无法启动**
   - 确保已配置监控对象
   - 确保已登录记账服务并选择账本

### 日志查看
- 使用日志窗口查看详细的运行信息
- 日志文件保存在 `logs/simple_ui.log`

## 📞 支持

如有问题，请查看日志文件或联系技术支持。

---

**注意：** 这是简约版本，如需更多高级功能，请使用完整版本。
