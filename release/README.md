# 只为记账-微信助手

一个基于wxauto的微信自动记账助手，支持智能记账和多平台消息处理。

## 🚀 快速开始

### 安装步骤

1. **运行安装程序**
   ```
   双击 install.bat 运行安装程序
   ```

2. **启动程序**
   ```
   双击 只为记账微信助手.exe 启动程序
   ```

3. **首次配置**
   - 配置只为记账服务信息（用户名、密码、账本ID）
   - 设置微信监控参数
   - 选择要监控的微信联系人

## 📋 功能特性

### 核心功能
- ✅ **智能记账**：自动解析微信消息并记录到只为记账
- ✅ **微信监控**：实时监控指定微信联系人的消息
- ✅ **多库支持**：支持wxauto和wxautox两种微信自动化库
- ✅ **消息处理**：智能识别记账相关消息并自动处理
- ✅ **日志管理**：完整的日志记录和查看功能

### 界面特性
- 🎨 **现代UI**：基于PyQt6的现代化界面设计
- 📊 **实时统计**：显示处理消息数量和成功率
- 🔍 **日志查看**：支持实时日志查看和过滤
- ⚙️ **配置管理**：可视化配置管理界面

## 🛠️ 配置说明

### 只为记账服务配置
```json
{
  "accounting_service": {
    "username": "你的用户名",
    "password": "你的密码", 
    "account_book_id": "账本ID",
    "base_url": "https://api.zhiweijz.com"
  }
}
```

### 微信监控配置
```json
{
  "wechat_monitoring": {
    "library": "wxauto",
    "activation_code": "",
    "monitored_sessions": ["联系人1", "联系人2"],
    "check_interval": 5,
    "auto_start": false
  }
}
```

## 📁 文件结构

```
只为记账微信助手/
├── 只为记账微信助手.exe    # 主程序
├── install.bat             # 安装脚本
├── README.md              # 说明文档
├── config_template.json   # 配置模板
└── data/                  # 数据目录（首次运行后创建）
    ├── config.json        # 配置文件
    ├── app_state.json     # 应用状态
    ├── Logs/              # 日志文件
    ├── backup/            # 备份文件
    └── temp/              # 临时文件
```

## 🔧 使用说明

### 1. 启动程序
双击`只为记账微信助手.exe`启动程序

### 2. 配置服务
- 点击"记账服务配置"按钮
- 输入只为记账的用户名、密码和账本ID
- 点击"测试连接"验证配置

### 3. 设置微信监控
- 点击"微信监控配置"按钮
- 选择wxauto库类型
- 添加要监控的微信联系人
- 设置检查间隔（建议5秒）

### 4. 开始监控
- 确保微信已登录并打开
- 点击"开始监控"按钮
- 程序将自动监控指定联系人的消息

### 5. 查看日志
- 点击"查看日志"按钮打开日志窗口
- 可以查看实时日志和历史记录
- 支持按级别过滤日志

## ⚠️ 注意事项

### 安全提示
- 🔒 配置文件包含敏感信息，请妥善保管
- 🔒 不要将配置文件分享给他人
- 🔒 建议定期备份配置文件

### 使用限制
- 📱 需要在Windows系统上运行
- 📱 需要安装并登录微信PC版
- 📱 需要有效的只为记账账号

### 故障排除
- 🔧 如果程序无法启动，请检查是否有杀毒软件拦截
- 🔧 如果微信监控失败，请确保微信已正常登录
- 🔧 如果记账失败，请检查只为记账配置是否正确

## 📞 技术支持

如果遇到问题，请：
1. 查看日志文件了解详细错误信息
2. 检查配置文件是否正确
3. 确认网络连接正常
4. 重启程序尝试解决

## 📄 版本信息

- **版本**：v1.0.0
- **构建时间**：2025-01-19
- **支持系统**：Windows 10/11
- **Python版本**：3.11+

---

**免责声明**：本软件仅供学习和个人使用，请遵守相关法律法规和服务条款。
